<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mapped Graphs · SMDGraphs.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SMDGraphs.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Graph Types</span><ul><li class="is-active"><a class="tocitem" href>Mapped Graphs</a><ul class="internal"><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Graph Types</a></li><li class="is-active"><a href>Mapped Graphs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mapped Graphs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSpaceMissionDesign/SMDGraphs.jl/blob/main/docs/src/mappedgraph.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Mapped-Node-Graphs"><a class="docs-heading-anchor" href="#Mapped-Node-Graphs">Mapped-Node Graphs</a><a id="Mapped-Node-Graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Mapped-Node-Graphs" title="Permalink"></a></h1><p>Mapped-Node graphs enable graph operations on any custom user-defined  concrete type, effectively replacing the integer nodes of the <a href="https://github.com/JuliaGraphs/Graphs.jl">Graphs.jl</a> graph, with the desired type. To enforce type-stability and avoid allocations,  the linking between the inner graph nodes and the custom nodes is achieved via  an integer mapping. Therefore, the only requirement is that an integer ID can  be associated to the custom type. The user will then be able to retrieve the  items in the nodes through this ID.</p><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>Suppose that you want to create a graph to connect items that store planetary bodies  properties. First, we will define our custom node type, which must be  a sub-type of <a href="../api/#SMDGraphs.AbstractGraphNode"><code>SMDGraphs.AbstractGraphNode</code></a>:</p><pre><code class="language-julia hljs">struct SpaceBody{T} &lt;: SMDGraphs.AbstractGraphNode
    radius::T
    density::T
    id::Int 
    name::String
end</code></pre><p>Before using this structure as node, the function <a href="../api/#SMDGraphs.get_node_id-Tuple{T} where T&lt;:SMDGraphs.AbstractGraphNode"><code>SMDGraphs.get_node_id</code></a> must be implemented for this data-type. For this reason, we have included within <code>SpaceBody</code> an integer field to store the ID of the body.</p><pre><code class="language-julia hljs">SMDGraphs.get_node_id(body::SpaceBody) = body.id</code></pre><p>We are now ready to create our custom graph. The <code>MappedNodeGraph</code> constructor is called as follows:</p><pre><code class="language-julia hljs">import SMDGraphs: MappedGraph
graph = MappedGraph(SpaceBody{Float64})</code></pre><p>This line will create an empty <code>SimpleGraph</code> with nodes of type <code>SpaceBody{Float64}</code>. A directed <code>SimpleDiGraph</code> graph is also supported by replacing the above line  with the <code>MappedDiGraph</code> constructor. To avoid allocations, all the nodes must belong  to the same concrete type.</p><p>To show the capabilities of mapped graphs, we will define a bunch of custom bodies and add them to the graph. </p><pre><code class="language-julia hljs"># Define some custom bodies 
earth = SpaceBody(6378.0, 5.51, 399, &quot;Earth&quot;)
sun = SpaceBody(696340.0, 1.41, 10, &quot;Sun&quot;)
moon = SpaceBody(1737.4, 3.34, 301, &quot;Moon&quot;)

# Populate the graph with these bodies
SMDGraphs.add_vertex!(graph, earth)
SMDGraphs.add_vertex!(graph, sun)
SMDGraphs.add_vertex!(graph, moon)</code></pre><p>Please note that the order in which these bodies are added to the graph does not matter,  because it will only affect the inner ID associated to each node. To access the items  stored inside the graph, we can use either their user-defined ID or the internal one. The latter is retrieved with the <a href="../api/#SMDGraphs.get_mappedid-Tuple{SMDGraphs.MappedNodeGraph, Int64}"><code>SMDGraphs.get_mappedid</code></a> function:</p><pre><code class="language-julia-repl hljs">julia&gt; SMDGraphs.get_node(graph, 399)
SpaceBody{Float64}(6378.0, 5.51, 399, &quot;Earth&quot;)

julia&gt; SMDGraphs.get_mappedid(graph, 301)
3

julia&gt; SMDGraphs.get_mappednode(graph, 3)
SpaceBody{Float64}(1737.4, 3.34, 301, &quot;Moon&quot;)</code></pre><p>Here we have retrieved Earth&#39;s property through its nominal ID and exploited  <code>get_mappedid</code> and <code>get_mappednode</code> to discover the internal ID of the Moon and access its content.</p><p>Connections between the items in the graph are easily added as follows: </p><pre><code class="language-julia hljs">SMDGraphs.add_edge!(graph, 10, 399)
SMDGraphs.add_edge!(graph, 399, 301)</code></pre><p>By providing an additional integer input to <a href="../api/#Graphs.SimpleGraphs.add_edge!-Union{Tuple{T}, Tuple{SMDGraphs.MappedNodeGraph{T}, Int64, Int64}, Tuple{SMDGraphs.MappedNodeGraph{T}, Int64, Int64, Int64}} where T"><code>SMDGraphs.add_edge!</code></a>, a weight factor  can be associated to the edge. The default weight is null.</p><p>Finally, the path between two nodes is retrived as: </p><pre><code class="language-julia-repl hljs">julia&gt; path = SMDGraphs.get_path(graph, 10, 301);
julia&gt; print(path)
[2, 1, 3]</code></pre><p>Note that <a href="../api/#SMDGraphs.get_path-Union{Tuple{T}, Tuple{SMDGraphs.MappedNodeGraph{T}, Int64, Int64}} where T"><code>SMDGraphs.get_path</code></a> returns an integer vector of internal IDs instead of the user-defined ones. This enables a faster retrieval of the nodes via <a href="../api/#SMDGraphs.get_mappednode-Tuple{SMDGraphs.MappedNodeGraph, Int64}"><code>SMDGraphs.get_mappednode</code></a>, allowing to skip the dictionary lookup for the ID mapping of each node in the path.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 8 May 2023 17:27">Monday 8 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
